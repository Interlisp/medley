((SKETCH CHECKFORSTORAGEFULL.SKETCH VERSION 3 PRIRANGE  (139 . 0) SKETCHCONTEXT  ((ROUND 1 BLACK)  (MODERN 10  (MEDIUM REGULAR REGULAR))  (LEFT BASELINE)  (CURVE  18.0 8) NIL NIL  (CENTER CENTER)  (NIL NIL NIL) T NIL NIL 1 NIL))  ((0.05  12.0  (PRI 1))  (TEXT  (16.0 .  512.0)  ("checkfor_storagefull(npages)") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((16.0  509.0 142 12)) BLACK))  ((0.05  10.0  (PRI 2))  (TEXT  (16.0 .  496.0)  ("pagesleft = (*Next_MDSpage_word & 0xffff) - (*Next_Array_word & 0xffff) - PAGESPER_MDSUNIT") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((16  493.0 318 10)) BLACK))  ((0.05  10.0  (PRI 3))  (TEXT  (16.0 .  52.0)  ("((pagesleft < "  "GUARDSTORAGEFULL)"  " || (npages !=0))") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((16.0  59.0 43 10)  (16.0  49.0 70 10)  (16.0  39.0 50 10)) BLACK))  ((0.0  40.0  (PRI 4))  (CLOSEDWIRE  ((12 . 68)  (92 . 68)  (84 . 44)  (92 . 28)  (12 . 28))  (ROUND 1 BLACK) NIL 1 NIL NIL))  ((0.05  10.0  (PRI 5))  (TEXT  (100.0 .  468.0)  ("*STORAGEFULLSTATE_word"  " == NIL") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((100.0  470.0 88 10)  (100.0  460.0 26 10)) BLACK))  ((0.0  50.0  (PRI 6))  (CLOSEDWIRE  ((96 . 480)  (196 . 480)  (188 . 464)  (196 . 456)  (96 . 456))  (ROUND 1 BLACK) NIL 1 NIL NIL))  ((0.05  11.0  (PRI 7))  (TEXT  (220.0 .  472.0)  ("set_storage_state()") 1  (LEFT BASELINE)  (MODERN 8  (MEDIUM REGULAR REGULAR))  ((220.0  469.5 76 11)) BLACK))  ((0.012  48.0  (PRI 9))  (BOX  (212.0  468.0  96.0  12.0)  (ROUND 1 BLACK) NIL 1  (NIL NIL NIL)))  ((0.05  10.0  (PRI 10))  (TEXT  (96.0 .  424.0)  ("\SFS.NOTSWITCHABLE") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((96.0  421.0 67 10)) BLACK))  ((0.05  10.0  (PRI 11))  (TEXT  (96.0 .  408.0)  ("\SFS.FULLYSWITCHED") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((96.0  405.0 64 10)) BLACK))  ((0.05  10.0  (PRI 12))  (TEXT  (180.0 .  424.0)  ("PAGESLEFT"  "<0") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((180.0  426.0 35 10)  (180.0  416.0 10 10)) BLACK))  ((0.0  24.0  (PRI 13))  (CLOSEDWIRE  ((172 . 440)  (220 . 440)  (212 . 424)  (220 . 416)  (172 . 416))  (ROUND 1 BLACK) NIL 1 NIL NIL))  ((0.05  10.0  (PRI 14))  (TEXT  (236.0 .  444.0)  ("MPERROR") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((236.0  441.0 31 10)) BLACK))  ((0.016  22.0  (PRI 15))  (BOX  (228.0  436.0  44.0  16.0)  (ROUND 1 BLACK) NIL 1  (NIL NIL NIL)))  ((0.0  38.0  (PRI 18))  (CLOSEDWIRE  ((228 . 432)  (304 . 432)  (300 . 408)  (304 . 384)  (228 . 384))  (ROUND 1 BLACK) NIL 1 NIL NIL))  ((0.05  10.0  (PRI 22))  (TEXT  (308.0 .  352.0)  ("(*STORAGEFULL"  "_word== NIL)") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((308.0  354.0 49 10)  (308.0  344.0 47 10)) BLACK))  ((0.0  26.0  (PRI 23))  (CLOSEDWIRE  ((308 . 364)  (360 . 364)  (356 . 352)  (360 . 340)  (308 . 340))  (ROUND 1 BLACK) NIL 1 NIL NIL))  ((0.05  10.0  (PRI 27))  (TEXT  (108.0 .  296.0)  ("\SFS.SWITCHABLE") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((108.0  293.0 53 10)) BLACK))  ((0.05  10.0  (PRI 29))  (TEXT  (176.0 .  284.0)  ("NPAGES"  "==NIL") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((176.0  286.0 26 10)  (176.0  276.0 22 10)) BLACK))  ((0.0  16.0  (PRI 30))  (CLOSEDWIRE  ((176 . 300)  (208 . 300)  (204 . 284)  (208 . 268)  (176 . 268))  (ROUND 1 BLACK) NIL 1 NIL NIL))  ((0.05  10.0  (PRI 31))  (TEXT  (220.0 .  308.0)  ("PAGESLEFT"  "<=0") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((220.0  310.0 35 10)  (220.0  300.0 16 10)) BLACK))  ((0.0  24.0  (PRI 32))  (CLOSEDWIRE  ((216 . 324)  (264 . 324)  (256 . 312)  (264 . 300)  (216 . 300))  (ROUND 1 BLACK) NIL 1 NIL NIL))  ((0.05  10.0  (PRI 35))  (TEXT  (220.0 .  256.0)  ("NPAGES>"  "PAGESLEFT") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((220.0  258.0 32 10)  (220.0  248.0 35 10)) BLACK))  ((0.0  22.0  (PRI 36))  (CLOSEDWIRE  ((216 . 268)  (260 . 268)  (252 . 256)  (260 . 244)  (216 . 244))  (ROUND 1 BLACK) NIL 1 NIL NIL))  ((0.05  10.0  (PRI 43))  (TEXT  (96.0 .  136.0)  ("\SFS.ARRAYSWITCHED") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((96.0  133.0 68 10)) BLACK))  ((0.05  10.0  (PRI 44))  (TEXT  (180.0 .  144.0)  ("((*Next_MDSpage_word & 0xffff) "  "<(*LeastMDSPage_word & 0xffff))") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((180.0  146.0 110 10)  (180.0  136.0 108 10)) BLACK))  ((0.0  60.0  (PRI 48))  (CLOSEDWIRE  ((176 . 156)  (296 . 156)  (292 . 144)  (296 . 132)  (176 . 132))  (ROUND 1 BLACK) NIL 1 NIL NIL))  ((0.0  18.0  (PRI 49))  (CLOSEDWIRE  ((300 . 120)  (336 . 120)  (328 . 104)  (336 . 88)  (300 . 88))  (ROUND 1 BLACK) NIL 1 NIL NIL))  ((0.0  64.0  (PRI 51))  (CLOSEDWIRE  ((348 . 136)  (476 . 136)  (468 . 116)  (476 . 96)  (348 . 96))  (ROUND 1 BLACK) NIL 1 NIL NIL))  ((0.0  34.0  (PRI 52))  (WIRE  ((188 . 480)  (256 . 480))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.0  188.0  (PRI 53))  (CLOSEDWIRE  ((96 . 432)  (168 . 432)  (144 . 360)  (168 . 288)  (148 . 232)  (168 . 136)  (152 . 96)  (168 . 56)  (96 . 56))  (ROUND 1 BLACK) NIL 1 NIL NIL))  ((0.05  11.0  (PRI 55))  (TEXT  (276.0 .  444.0)  ("%"Storage completely full%"") 1  (LEFT BASELINE)  (MODERN 8  (MEDIUM REGULAR REGULAR))  ((276  441.5 91 11)) BLACK))  ((0.0  4.0  (PRI 56))  (WIRE  ((220 . 440)  (228 . 440))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.0  8.0  (PRI 57))  (WIRE  ((212 . 416)  (228 . 416))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.0  8.0  (PRI 58))  (WIRE  ((156 . 432)  (172 . 432))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.0  16.0  (PRI 66))  (WIRE  ((292 . 384)  (308 . 384)  (308 . 352))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.05  10.0  (PRI 71))  (TEXT  (180.0 .  216.0)  ("return(T)") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((180.0  213.0 27 10)) BLACK))  ((0.012  20.0  (PRI 72))  (BOX  (176.0  208.0  40.0  12.0)  (ROUND 1 BLACK) NIL 1  (NIL NIL NIL)))  ((0.05  11.0  (PRI 74))  (TEXT  (172.0 .  316.0)  ("Want MDS") 1  (LEFT BASELINE)  (MODERN 8  (MEDIUM REGULAR REGULAR))  ((172  313.5 40 11)) BLACK))  ((0.05  11.0  (PRI 75))  (TEXT  (188.0 .  232.0)  ("Want array space") 1  (LEFT BASELINE)  (MODERN 8  (MEDIUM REGULAR REGULAR))  ((188.0  229.5 62 11)) BLACK))  ((0.0  8.0  (PRI 83))  (WIRE  ((332 . 120)  (348 . 120))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.05  10.0  (PRI 84))  (TEXT  (488.0 .  132.0)  ("return(NIL)") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((488.0  129.0 33 10)) BLACK))  ((0.012  20.0  (PRI 85))  (BOX  (484.0  124.0  40.0  12.0)  (ROUND 1 BLACK) NIL 1  (NIL NIL NIL)))  ((0.05  12.0  (PRI 86))  (TEXT  (180.0 .  108.0)  ("return(T)") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((180.0  105.0 42 12)) BLACK))  ((0.012  24.0  (PRI 87))  (BOX  (176.0  104.0  48.0  12.0)  (ROUND 1 BLACK) NIL 1  (NIL NIL NIL)))  ((0.05  12.0  (PRI 88))  (TEXT  (184.0 .  60.0)  ("error(Shouldn't)") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((184.0  57.0 75 12)) BLACK))  ((0.016  164.0  (PRI 89))  (BOX  (12.0  488.0  328.0  16.0)  (ROUND 1 BLACK) NIL 1  (NIL NIL NIL)))  ((0.05  12.0  (PRI 90))  (TEXT  (124.0 .  20.0)  ("return(NIL)") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((124.0  17.0 51 12)) BLACK))  ((0.016  30.0  (PRI 91))  (BOX  (120.0  12.0  60.0  16.0)  (ROUND 1 BLACK) NIL 1  (NIL NIL NIL)))  ((0.0  228.0  (PRI 92))  (WIRE  ((12 . 496)  (12 . 40))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.0  48.0  (PRI 93))  (WIRE  ((96 . 468)  (96 . 372))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.0  10.0  (PRI 94))  (WIRE  ((76 . 68)  (96 . 68))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.0  20.0  (PRI 95))  (WIRE  ((80 . 28)  (120 . 28))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.05  10.0  (PRI 96))  (TEXT  (100.0 .  184.0)  ("switch"  "(*STORAGEFULLSTATE_word"  " & 0xffff)") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((100.0  191.0 19 10)  (100.0  181.0 90 10)  (100.0  171.0 30 10)) BLACK))  ((0.05  10.0  (PRI 97))  (TEXT  (228.0 .  408.0)  ("((pagesleft<"  "GUARD1STORAGEFULL)"  "&&"  " (*STORAGEFULL_word "  "!=NIL))") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((228.0  425.0 39 10)  (228.0  415.0 74 10)  (228.0  405.0 10 10)  (228.0  395.0 74 10)  (228.0  385.0 23 10)) BLACK))  ((0.05  10.0  (PRI 98))  (TEXT  (332.0 .  428.0)  ("*STORAGEFULL_word = NIL") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((332.0  425.0 88 10)) BLACK))  ((0.05  10.0  (PRI 99))  (TEXT  (332.0 .  416.0)  ("printf(%"STORAGE NEARLY FULL !!!!\n%")") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((332.0  413.0 123 10)) BLACK))  ((0.024  78.0  (PRI 100))  (BOX  (328.0  412.0  156.0  24.0)  (ROUND 1 BLACK) NIL 1  (NIL NIL NIL)))  ((0.0  16.0  (PRI 101))  (WIRE  ((296 . 432)  (328 . 432))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.05  10.0  (PRI 102))  (TEXT  (368.0 .  400.0)  ("*STORAGEFULL_word=ATOM_T") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((368.0  397.0 104 10)) BLACK))  ((0.05  10.0  (PRI 103))  (TEXT  (368.0 .  388.0)  ("int_state=(INTSTAT *)Addr68k_from_LADDR"  "(*INTERRUPTSTATE_word)") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((368.0  390.0 148 10)  (368.0  380.0 84 10)) BLACK))  ((0.05  10.0  (PRI 104))  (TEXT  (368.0 .  376.0)  ("int_state->storagefull=T") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((368.0  373.0 81 10)) BLACK))  ((0.05  10.0  (PRI 105))  (TEXT  (368.0 .  368.0)  ("*PENDINGINTERRUPT_word =ATOM_T") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((368.0  365.0 128 10)) BLACK))  ((0.05  10.0  (PRI 106))  (TEXT  (368.0 .  360.0)  ("return(T)") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((368.0  357.0 27 10)) BLACK))  ((0.052  76.0  (PRI 107))  (BOX  (364.0  356.0  152.0  52.0)  (ROUND 1 BLACK) NIL 1  (NIL NIL NIL)))  ((0.05  10.0  (PRI 108))  (TEXT  (368.0 .  344.0)  ("printf(%"checkfor_storagefull:DORECLAIM%")") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((368.0  341.0 137 10)) BLACK))  ((0.012  70.0  (PRI 109))  (BOX  (364.0  336.0  140.0  12.0)  (ROUND 1 BLACK) NIL 1  (NIL NIL NIL)))  ((0.0  6.0  (PRI 110))  (WIRE  ((352 . 340)  (364 . 340))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.0  6.0  (PRI 111))  (WIRE  ((352 . 364)  (364 . 364))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.05  10.0  (PRI 112))  (TEXT  (280.0 .  316.0)  ("*LeastMDSPage_word= *Next_Array_word") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((280.0  313.0 136 10)) BLACK))  ((0.05  10.0  (PRI 113))  (TEXT  (280.0 .  308.0)  ("*Next_MDSpage_word= *SecondMDSPage_word") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((280.0  305.0 157 10)) BLACK))  ((0.05  10.0  (PRI 114))  (TEXT  (280.0 .  300.0)  ("advance_storagestate(SFS_FULLYSWITCHED)") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((280.0  297.0 137 10)) BLACK))  ((0.05  10.0  (PRI 115))  (TEXT  (280.0 .  292.0)  ("advance_array_seg(*SecondArrayPage_word & 0xffff)") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((280.0  289.0 167 10)) BLACK))  ((0.05  10.0  (PRI 116))  (TEXT  (280.0 .  284.0)  ("return(0)") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((280.0  281.0 27 10)) BLACK))  ((0.044  86.0  (PRI 117))  (BOX  (276.0  280.0  172.0  44.0)  (ROUND 1 BLACK) NIL 1  (NIL NIL NIL)))  ((0.0  14.0  (PRI 118))  (WIRE  ((196 . 300)  (224 . 300))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.0  4.0  (PRI 119))  (WIRE  ((168 . 288)  (176 . 288))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.0  18.0  (PRI 120))  (WIRE  ((252 . 324)  (288 . 324))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.0  14.0  (PRI 121))  (WIRE  ((196 . 268)  (224 . 268))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.05  10.0  (PRI 122))  (TEXT  (280.0 .  260.0)  ("*LeastMDSPage_word= *Next_Array_word") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((280.0  257.0 136 10)) BLACK))  ((0.05  10.0  (PRI 123))  (TEXT  (280.0 .  252.0)  ("advance_storagestate(SFS_ARRAYSWITCHED)") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((280.0  249.0 141 10)) BLACK))  ((0.05  10.0  (PRI 124))  (TEXT  (280.0 .  244.0)  ("advance_array_seg(*SecondArrayPage_word & 0xffff)") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((280.0  241.0 167 10)) BLACK))  ((0.05  10.0  (PRI 125))  (TEXT  (280.0 .  236.0)  ("return(0)") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((280.0  233.0 27 10)) BLACK))  ((0.04  86.0  (PRI 126))  (BOX  (276.0  228.0  172.0  40.0)  (ROUND 1 BLACK) NIL 1  (NIL NIL NIL)))  ((0.0  14.0  (PRI 127))  (WIRE  ((256 . 268)  (284 . 268))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.0  32.0  (PRI 128))  (WIRE  ((176 . 276)  (176 . 212))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.05  10.0  (PRI 129))  (TEXT  (308.0 .  168.0)  ("*Next_MDSpage_word= *SecondMDSPage_word") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((308.0  165.0 157 10)) BLACK))  ((0.05  10.0  (PRI 130))  (TEXT  (308.0 .  160.0)  ("return(advance_storagestate(SFS_FULLYSWITCHED))") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((308.0  157.0 160 10)) BLACK))  ((0.024  84.0  (PRI 131))  (BOX  (304.0  152.0  168.0  24.0)  (ROUND 1 BLACK) NIL 1  (NIL NIL NIL)))  ((0.05  10.0  (PRI 132))  (TEXT  (304.0 .  104.0)  ("(npages "  "!= NIL)") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((304.0  106.0 25 10)  (304.0  96.0 23 10)) BLACK))  ((0.05  10.0  (PRI 133))  (TEXT  (352.0 .  116.0)  ("((npages + GUARDSTORAGEFULL) >="  "((*SecondMDSPage_word & 0xffff)-"  "(*Next_Array_word & 0xffff)))") 1  (LEFT BASELINE)  (MODERN 6  (MEDIUM REGULAR REGULAR))  ((352.0  123.0 119 10)  (352.0  113.0 111 10)  (352.0  103.0 96 10)) BLACK))  ((0.0  16.0  (PRI 134))  (WIRE  ((464 . 136)  (496 . 136))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.0  16.0  (PRI 135))  (WIRE  ((176 . 144)  (176 . 112))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.0  10.0  (PRI 136))  (WIRE  ((284 . 156)  (304 . 156))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.0  10.0  (PRI 137))  (WIRE  ((288 . 132)  (300 . 132)  (300 . 112))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.016  44.0  (PRI 138))  (BOX  (176.0  52.0  88.0  16.0)  (ROUND 1 BLACK) NIL 1  (NIL NIL NIL)))  ((0.0  10.0  (PRI 139))  (WIRE  ((156 . 56)  (176 . 56))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL)))
(12.0 -20.0 514.0 546.0)
1.0
4
     (PAGE NIL (PAPERSIZE NIL) (0 0 612 792) ((TEXT NIL NIL (0 0 612 792) NIL)))       (                                           ? 1(DEFAULTFONT 1 (GACHA 10) (GACHA 8) (TERMINAL 8)) 
          8   SKIO.GETFN.2   8  zº