((SKETCH NIL VERSION 3 PRIRANGE  (60 . 0) SKETCHCONTEXT  ((ROUND 1 BLACK)  (MODERN 10  (MEDIUM REGULAR REGULAR))  (LEFT BASELINE)  (CURVE  18.0 8) NIL NIL  (CENTER CENTER)  (NIL NIL NIL) T NIL NIL 1 NIL))  ((0.05  12.0  (PRI 1))  (TEXT  (16.0 .  512.0)  ("\SMASHLINK(CALLER,ALINK,CLINK)") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((16  509.0 162 12)) BLACK))  ((0.05  12.0  (PRI 2))  (TEXT  (28.0 .  476.0)  ("caller == NIL") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((28  473.0 65 12)) BLACK))  ((0.05  12.0  (PRI 3))  (TEXT  (132.0 .  484.0)  ("caller=myakink()") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((132  481.0 83 12)) BLACK))  ((0.0  38.0  (PRI 4))  (CLOSEDWIRE  ((24 . 488)  (100 . 488)  (92 . 480)  (100 . 468)  (24 . 468))  (ROUND 1 BLACK) NIL 1 NIL NIL))  ((0.05  12.0  (PRI 5))  (TEXT  (28.0 .  440.0)  ("oldalink=caller->alink"  "oldclink=caller-> clink") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((28.0  443.0 112 12)  (28.0  431.0 110 12)) BLACK))  ((0.028  60.0  (PRI 6))  (BOX  (24.0  428.0  120.0  28.0)  (ROUND 1 BLACK) NIL 1  (NIL NIL NIL)))  ((0.05  12.0  (PRI 7))  (TEXT  (32.0 .  396.0)  ("alink !=NIL") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((32.0  393.0 55 12)) BLACK))  ((0.0  38.0  (PRI 8))  (CLOSEDWIRE  ((24 . 408)  (100 . 408)  (92 . 400)  (100 . 388)  (24 . 388))  (ROUND 1 BLACK) NIL 1 NIL NIL))  ((0.05  12.0  (PRI 12))  (TEXT  (120.0 .  404.0)  ("alink != clink "  "|| alink != oldclink") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((120.0  407.0 66 12)  (120.0  395.0 85 12)) BLACK))  ((0.0  52.0  (PRI 13))  (CLOSEDWIRE  ((112 . 420)  (216 . 420)  (208 . 408)  (216 . 396)  (112 . 396))  (ROUND 1 BLACK) NIL 1 NIL NIL))  ((0.05  12.0  (PRI 14))  (TEXT  (228.0 .  416.0)  ("incusecount(alink)") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((228.0  413.0 85 12)) BLACK))  ((0.016  46.0  (PRI 15))  (BOX  (224.0  412.0  92.0  16.0)  (ROUND 1 BLACK) NIL 1  (NIL NIL NIL)))  ((0.0  6.0  (PRI 16))  (WIRE  ((212 . 420)  (224 . 420))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.05  12.0  (PRI 17))  (TEXT  (120.0 .  380.0)  ("caller->alink=alink") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((120.0  377.0 97 12)) BLACK))  ((0.012  56.0  (PRI 18))  (BOX  (112.0  376.0  112.0  12.0)  (ROUND 1 BLACK) NIL 1  (NIL NIL NIL)))  ((0.0  12.0  (PRI 19))  (WIRE  ((112 . 408)  (112 . 384))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.0  12.0  (PRI 20))  (WIRE  ((88 . 408)  (112 . 408))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.05  12.0  (PRI 21))  (TEXT  (36.0 .  344.0)  ("clink!=NIL") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((36  341.0 51 12)) BLACK))  ((0.0  38.0  (PRI 22))  (CLOSEDWIRE  ((24 . 360)  (100 . 360)  (92 . 352)  (100 . 340)  (24 . 340))  (ROUND 1 BLACK) NIL 1 NIL NIL))  ((0.05  12.0  (PRI 23))  (TEXT  (116.0 .  348.0)  ("alink || "  "(clink != oldalink)") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((116.0  351.0 32 12)  (116.0  339.0 85 12)) BLACK))  ((0.0  52.0  (PRI 24))  (CLOSEDWIRE  ((112 . 364)  (216 . 364)  (208 . 352)  (216 . 340)  (112 . 340))  (ROUND 1 BLACK) NIL 1 NIL NIL))  ((0.05  12.0  (PRI 25))  (TEXT  (232.0 .  360.0)  ("incusecount(alink)") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((232.0  357.0 85 12)) BLACK))  ((0.016  46.0  (PRI 26))  (BOX  (228.0  356.0  92.0  16.0)  (ROUND 1 BLACK) NIL 1  (NIL NIL NIL)))  ((0.0  6.0  (PRI 27))  (WIRE  ((216 . 364)  (228 . 364))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.0  12.0  (PRI 28))  (WIRE  ((88 . 360)  (112 . 360))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.05  12.0  (PRI 29))  (TEXT  (116.0 .  316.0)  ("caller->clink = clink") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((116  313.0 97 12)) BLACK))  ((0.05  12.0  (PRI 30))  (TEXT  (116.0 .  304.0)  ("decusecount(oldclink)") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((116  301.0 101 12)) BLACK))  ((0.032  56.0  (PRI 31))  (BOX  (112.0  296.0  112.0  32.0)  (ROUND 1 BLACK) NIL 1  (NIL NIL NIL)))  ((0.0  20.0  (PRI 32))  (WIRE  ((112 . 352)  (112 . 312))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.05  12.0  (PRI 33))  (TEXT  (28.0 .  260.0)  ("(oldalink != "  "oldclink) && alink") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((28.0  263.0 60 12)  (28.0  251.0 82 12)) BLACK))  ((0.0  48.0  (PRI 34))  (CLOSEDWIRE  ((24 . 276)  (120 . 276)  (116 . 264)  (120 . 252)  (24 . 252))  (ROUND 1 BLACK) NIL 1 NIL NIL))  ((0.05  12.0  (PRI 35))  (TEXT  (144.0 .  268.0)  ("decusecount(oldalink)") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((144.0  265.0 103 12)) BLACK))  ((0.02  58.0  (PRI 36))  (BOX  (140.0  260.0  116.0  20.0)  (ROUND 1 BLACK) NIL 1  (NIL NIL NIL)))  ((0.0  14.0  (PRI 37))  (WIRE  ((112 . 276)  (140 . 276))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.05  12.0  (PRI 38))  (TEXT  (28.0 .  228.0)  ("!alink") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((28.0  225.0 28 12)) BLACK))  ((0.0  18.0  (PRI 39))  (CLOSEDWIRE  ((24 . 236)  (60 . 236)  (52 . 228)  (60 . 220)  (24 . 220))  (ROUND 1 BLACK) NIL 1 NIL NIL))  ((0.05  12.0  (PRI 40))  (TEXT  (80.0 .  232.0)  ("alink=oldalink") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((80.0  229.0 73 12)) BLACK))  ((0.016  44.0  (PRI 41))  (BOX  (76.0  224.0  88.0  16.0)  (ROUND 1 BLACK) NIL 1  (NIL NIL NIL)))  ((0.0  12.0  (PRI 42))  (WIRE  ((52 . 236)  (76 . 236))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.05  12.0  (PRI 43))  (TEXT  (24.0 .  204.0)  ("!clink") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((24.0  201.0 26 12)) BLACK))  ((0.0  18.0  (PRI 44))  (CLOSEDWIRE  ((24 . 216)  (60 . 216)  (52 . 208)  (60 . 200)  (24 . 200))  (ROUND 1 BLACK) NIL 1 NIL NIL))  ((0.05  12.0  (PRI 45))  (TEXT  (80.0 .  208.0)  ("clink=oldclink") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((80.0  205.0 69 12)) BLACK))  ((0.012  42.0  (PRI 46))  (BOX  (76.0  204.0  84.0  12.0)  (ROUND 1 BLACK) NIL 1  (NIL NIL NIL)))  ((0.0  10.0  (PRI 47))  (WIRE  ((56 . 216)  (76 . 216))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.05  12.0  (PRI 48))  (TEXT  (28.0 .  140.0)  ("(alink==clink) &&"  "(clink->usecount==0) &&"  "((blink=caller->blink)==caller-2) &&"  "(blink->ivar ==clink->nextblock) &&"  "(blink->usecnt==0) &&"  " (!clink->nopush) &&"  "(!clink->incall)") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((28.0  173.0 88 12)  (28.0  161.0 125 12)  (28.0  149.0 180 12)  (28.0  137.0 180 12)  (28.0  125.0 115 12)  (28.0  113.0 97 12)  (28.0  101.0 70 12)) BLACK))  ((0.0  100.0  (PRI 49))  (CLOSEDWIRE  ((24 . 188)  (224 . 188)  (212 . 140)  (224 . 92)  (24 . 92))  (ROUND 1 BLACK) NIL 1 NIL NIL))  ((0.05  12.0  (PRI 50))  (TEXT  (240.0 .  184.0)  ("caller->slowp=NIL") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((240.0  181.0 91 12)) BLACK))  ((0.02  50.0  (PRI 51))  (BOX  (236.0  176.0  100.0  20.0)  (ROUND 1 BLACK) NIL 1  (NIL NIL NIL)))  ((0.0  12.0  (PRI 52))  (WIRE  ((212 . 188)  (236 . 188))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.012  50.0  (PRI 53))  (BOX  (128.0  480.0  100.0  12.0)  (ROUND 1 BLACK) NIL 1  (NIL NIL NIL)))  ((0.0  20.0  (PRI 54))  (WIRE  ((88 . 488)  (128 . 488))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.0  162.0  (PRI 55))  (WIRE  ((24 . 480)  (24 . 156))  (ROUND 1 BLACK) NIL NIL 1 NIL NIL))  ((0.05  12.0  (PRI 56))  (TEXT  (296.0 .  140.0)  (";; We have made CALLER fast again"  ": its alink and clink are same, "  "usecnt of blink and caller are normal, "  "bf is contiguous with CALLER and"  " CALLER's caller") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((296  161.0 166 12)  (296  149.0 137 12)  (296  137.0 175 12)  (296  125.0 152 12)  (296  113.0 72 12)) BLACK))  ((0.05  12.0  (PRI 57))  (TEXT  (260.0 .  268.0)  ("; must be careful to increment any"  " use counts before decrementing any") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((260.0  271.0 159 12)  (260.0  259.0 171 12)) BLACK))  ((0.05  12.0  (PRI 58))  (TEXT  (244.0 .  332.0)  ("; If we're only setting the CLINK, "  "and we're setting it to be the same as the ALINK,"  " don't bump count") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((244  341.0 152 12)  (244  329.0 226 12)  (244  317.0 84 12)) BLACK))  ((0.05  12.0  (PRI 59))  (TEXT  (292.0 .  392.0)  ("; Don't increment twice "  "if ALINK comes out same as CLINK") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((292  395.0 111 12)  (292  383.0 156 12)) BLACK))  ((0.05  12.0  (PRI 60))  (TEXT  (264.0 .  496.0)  ("; Smashes caller's ALINK and/or CLINK"  " with ALINK and CLINK") 1  (LEFT BASELINE)  (MODERN 10  (MEDIUM REGULAR REGULAR))  ((264.0  499.0 175 12)  (264.0  487.0 104 12)) BLACK)))
(0.0 0.0 483.0 523.0)
1.0
4
     (PAGE NIL (PAPERSIZE NIL) (0 0 612 792) ((TEXT NIL NIL (0 0 612 792) NIL)))       (                                           ? 1(DEFAULTFONT 1 (GACHA 10) (GACHA 8) (TERMINAL 8)) 
          "y  SKIO.GETFN.2   "y zº