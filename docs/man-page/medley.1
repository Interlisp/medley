.\" Automatically generated by Pandoc 2.9.2.1
.\"
.ad l
.TH "MEDLEY" "1" "" "" "Start Medley Interlisp"
.nh
.SH NAME
.PP
\f[B]medley\f[R] \[em] starts up Medley Interlisp
.SH SYNOPSIS
.PP
\f[B]medley\f[R] [ flags \&... ] [ \f[I]SYSOUT_FILE\f[R] ] [ --
\f[I]PASS_ON_ARGS\f[R] ]
.SH DESCRIPTION
.PP
Starts Medley Interlisp in a window.
.SH OPTIONS
.PP
\f[B]MEDLEYDIR\f[R] is an environment variable set by Medley and used by
many of the options described below.
MEDLEYDIR is the top level directory of the Medley installation that
contains the specific medley script that is invoked after all symbolic
links are resolved.
In the standard global installation this will be
/usr/local/interlisp/medley.
But Medley can be installed in multiple places on any given machine and
hence MEDLEYDIR is computed on each invocation of medley.
.SS Flags
.PP
\ 
.TP
-h, --help
Prints out a brief summary of the flags and arguments to medley.
.TP
-z, --man
Show the man page for medley
.TP
-c [\f[I]FILE\f[R] | -], --config [\f[I]FILE\f[R] | -]
Use \f[I]FILE\f[R] as the config file for this run of Medley.
See information on \f[I]CONFIG FILE\f[R] below.
If \f[I]FILE\f[R] is \[lq]-\[rq], then suppress the use of a config file
for this run of Medley.
.TP
-f, --full
Start Medley from the standard \[lq]full\[rq] sysout.
full.sysout includes a complete Interlisp and CommonLisp environment
with a standard set of development tools.
It does not include any of the applications built using Medley.
(See \f[I]SYSOUT_FILE\f[R] below for more information on starting
sysouts.)
.TP
-l, --lisp
Start Medley from the standard \[lq]lisp\[rq] sysout.
lisp.sysout only includes the basic Interlisp and CommonLisp
environment.
(See \f[I]SYSOUT_FILE\f[R] below for more information on starting
sysouts.)
.TP
-a, --apps
Start Medley from the standard \[lq]apps\[rq] sysout.
apps.sysout includes everything in full.sysout plus Medley applications
including Notecards, Rooms and CLOS.
It also includes pre-installed links to key Medley documentation.
(See \f[I]SYSOUT_FILE\f[R] below for more information on starting
sysouts.)
.TP
-u, --continue
Nullify any prior setting of the sysout file (e.g., from the config
file) - causing Medley to start from the virtual memory file resulting
from the previous invocation (with the same values for \[en]id and
\[en]logindir), if any.
If there is no matching virtual memory file, Medley will start from the
full.sysout (see -f/\[en]full above).
Equivalent to \[lq]-y -\[rq].
(See \f[I]SYSOUT FILE\f[R] section below.)
.TP
-y [\f[I]SYSOUT_FILE\f[R] | -], --sysout [\f[I]SYSOUT-FILE\f[R] | -]
Start Medley from the specified \f[I]SYSOUT-FILE\f[R].
This is an alternative to specifying the \f[I]SYSOUT-FILE\f[R] as the
last argument on the command line (but before any
\f[I]PASS_ON_ARGS\f[R]).
It can be used to specify the \f[I]SYSOUT-FILE\f[R] in the config file
(see information on \f[I]CONFIG FILE\f[R] below).
If \f[I]SYSOUT-FILE\f[R] is \[lq]-\[rq], then any prior setting of the
sysout file (e.g., from the config file) is nullified (see
-u/\[en]continue above).
(See \f[I]SYSOUT FILE\f[R] section below.)
.TP
-e [+ | -], --interlisp [+ | -]
If value is \[lq]+\[rq] or no value, make the initial Exec window within
Medley be an Interlisp Exec.
If value is \[lq]-\[rq], make the initial Exec window be the default XCL
Exec.
This flag applies only when the \[en]apps flag is used.
.TP
-n [+ | -], --noscroll [+ | -]
Medley ordinarily displays scroll bars to enable the user to pan the
Medley virtual display within the Medley window.
This is true even when the entire virtual display fits within the
window.
Specifying \[lq]-n +\[rq] (\[en]noscroll +) turns off scroll bars.
Specifying \[lq]-n -\[rq] (\[en]scroll -) turns on scroll bars.
Specifying -n (\[en]noscroll) with no value is equivalent to specifying
\[lq]\[en]noscroll +\[rq].
Default is scroll bars off.
Note: If scroll bars are off and the virtual screen is larger than the
window, there will be no way to pan to the non-visible parts of the
virtual display.
.TP
-g [\f[I]WxH\f[R] | -], --geometry [\f[I]WxH\f[R] | -]
Sets the size of the X Window (or VNC window) that Medley runs in to be
Width x Height.
(Full X Windows geomtery specification with +X+Y is not currently
supported).
If a value of \[lq]-\[rq] is given, geometry is set to the default
value.
If --geometry is not specified but --screensize is, then the window size
will be determined based on the --screensize values and the --noscroll
flag.
If neither --geometry nor --screensize is provided, then the window size
is set to 1440x900 if --noscroll is set and 1462x922 if --noscroll is
not set.
(Also see note below under \f[I]CONFIG FILE\f[R] on the use of geometry
and screensize in config files.)
.TP
-s [\f[I]WxH\f[R] | -], --screensize [\f[I]WxH\f[R] | -]
Sets the size of the virtual display as seen from Medley\[cq]s point of
view.
If a value of \[lq]-\[rq] is given, screensize is set to the default
value.
The Medley window is an unscaled viewport onto this virtual display.
If --screensize is not specified but --geometry is, then the virtual
display size will be set so that the entire virtual display fits into
the given window geometry.
If neither --screensize nor --geometry is provided, then the screen size
is set to 1440x900.
(Also see note below under \f[I]CONFIG FILE\f[R] on the use of geometry
and screensize in config files.)
.TP
-ps [\f[I]N\f[R] | -], \[en]pixelscale [\f[I]N\f[R] | -]\ \ \ \ ** \f[B]Applicable only when display is SDL-based (e.g., on Windows/Cygwin)\f[R] **
Sets the pixel scaling factor to \f[I]N\f[R].
If value of \[lq]-\[rq] is given, the pixel scale factor is set to its
default of 1.
.TP
-t [\f[I]STRING\f[R] | -], --title [\f[I]STRING\f[R] | -]
Use STRING as title of Medley window.
If the value of \[lq]-\[rq] is given, sets the title to its default
value (\[lq]Medley Interlisp\[rq]).
Ignored when when the --vnc flag is set.
.TP
-d [\f[I]:N\f[R] | -], --display [\f[I]:N\f[R] | -]
Use X display :N.
If value is \[lq]-\[rq], reset display to its default value.
Default value is the value of $DISPLAY.
On platforms that support X Windows as well as SDL, the value of -d
(\[en]display) should be set to \[lq]SDL\[rq] to select using SDL
instead of X Windows.
This flag is ignored on the Windows/Cygwin platform and when the --vnc
flag is set on Windows System for Linux.
.TP
-v [+ | -] , --vnc [+ | -]\ \ \ \ ** \f[B]Applicable only to WSL installations\f[R] **
If value is \[lq]+\[rq] or no value is given, then use a VNC window
running on the Windows side instead of an X window.
If value is \[lq]-\[rq], then do not use a VNC window, relying instead
on a standard X Window.
A VNC window will folllow the Windows desktop scaling setting allowing
for much more usable Medley on high resolution displays.
On WSL, X windows do not scale well.
This flag is always set for WSL1 installations.
.TP
-i [\f[I]ID_STRING\f[R] | - | --], --id [\f[I]ID_STRING\f[R] | - | --]
Use ID_STRING as the id for this run of Medley, unless ID_STRING is
\[lq]-\[rq], \[lq]--\[rq], or \[lq]---\[rq].
If ID_STRING is \[lq]-\[rq], then reset the id to \[lq]default\[rq]
(e.g., if it was previously set in the config file).
If ID_STRING is \[lq]--\[rq], then use the basename of $MEDLEYDIR as the
id.
If ID_STRING is \[lq]---\[rq], then use the basename of the parent
directory of $MEDLEYDIR as the id.
Only one instance of Medley with a given id can run at a time.
The id is used to distinguish the virtual memory stores so that multiple
instances of Medley can run simultaneously.
Default id is \[lq]default\[rq].
.TP
-m [\f[I]N\f[R] | -], --mem [\f[I]N\f[R] | -]
Set Medley to run in \f[I]N\f[R] MB of virtual memory.
Defaults to 256MB.
If a value of \[lq]-\[rq] is given, resets to default value.
.TP
-p [\f[I]FILE\f[R] | -], --vmem [\f[I]FILE\f[R] | -]
Use FILE as the Medley virtual memory (vmem) store.
FILE must be writeable by the current user.
Care must be taken not to use the same vmem FILE for two instances of
Medley running simultaneously.
The --id flag will not protect against vmem collisions when the --vmem
flag is used.
If the value \[lq]-\[rq] is given, then resets the vmem file to the
default.
Default is to store the vmem in LOGINDIR/vmem/lisp_III.virtualmem, where
III is the id of this Medley run (see --id flag above).
See --logindir below for setting of LOGINDIR.
.TP
-r [\f[I]FILE\f[R] | -], --greet [\f[I]FILE\f[R] | -]
Use FILE as the Medley greetfile, unless FILE is \[lq]-\[rq] in which
case Medley will start up without using a greetfile.
The default Medley greetfile is $MEDLEYDIR/greetfiles/MEDLEYDIR-INIT,
except when the --apps flag is used in which case it is
$MEDLEYDIR/greetfiles/APPS-INIT.
On Windows/Cygwin installations, \f[I]FILE\f[R] is specified in the
Medley file system, not the host Windows file system.
.TP
-x [\f[I]DIR\f[R] | - | \[en]], --logindir [\f[I]DIR\f[R] | - | \[en]]
Use DIR as LOGINDIR in Medley.
If the value is \[lq]\[en]\[rq], use $MEDLEYDIR/logindir as LOGINDIR.
If a value of \[lq]-\[rq] is given, then reset LOGINDIR to its default
value.
DIR (or $MEDLEYDIR/logindir) must be writeable by the current user.
LOGINDIR defaults to $HOME/il.
LOGINDIR is used by Medley as the working directory on start-up and
where it loads any \[lq]personal\[rq] initialization file from.
On Windows/Cygwin installations, \f[I]FILE\f[R] is specified in the
Medley file system, not the host Windows file system.
.TP
-nh \f[I]Host:Port:Mac:Debug\f[R], --nethub \f[I]Host:Port:Mac:Debug\f[R]
Set the parameters for using Nethub XNS networking.
\f[I]Host\f[R] is the full domain name of the nethub host.
\f[I]Port\f[R] is the port on \f[I]Host\f[R] that nethub is using.
\f[I]Mac\f[R] is the Mac address that this instance of Medley should use
when contacting the nethub host.
\f[I]Debug\f[R] is the level of nethub debug information that should be
printed on stdout (value is 0, 1, or 2).
A \f[I]Host\f[R] value is required and serves to turn nethub
functionality on.
\f[I]Port\f[R], \f[I]Mac\f[R] and \f[I]Debug\f[R] parameters are
optional and will default if left off.
Finally, if any of the parameters have a value of \[lq]-\[rq], any
previous setting (e.g., in a config file) for the parameter will be
reset to the default value - which in the case of \f[I]Host\f[R] is the
null string, turning nethub functionality off.
.TP
-nf, -NF, \[en]nofork
No fork.
Relevant only to the Medley loadup workflow.
.TP
-prog \f[I]EXE\f[R], \[en]maikoprog \f[I]EXE\f[R]
Use \f[I]EXE\f[R] as the basename of the Maiko executable.
Relevant only to the Medley loadup workflow.
.TP
\[en]maikodir \f[I]DIR\f[R]
Use \f[I]DIR\f[R] as the directory containing the Maiko emulator.
For testing purposes only.
.SS Other Options
.PP
\ 
.TP
\f[I]SYSOUT_FILE\f[R]
The pathname of the file to use as a sysout for Medley to start from.
If SYSOUT_FILE is not provided and none of the flags (--apps, --full,
--lisp) is used, then Medley will start from the saved virtual memory
file from the previous session with the same ID_STRING as this run.
If no such virtual memory file exists, then Medley will start from the
standard full.sysout (equivalent to specifying the --full flag).
On Windows (Docker) installations, \f[I]SYSOUT_FILE\f[R] is specified in
the Medley file system, not the host Windows file system.
.TP
\f[I]PASS_ON_ARGS\f[R]
All arguments after the \[lq]--\[rq] flag, are passed unaltered to the
Maiko emulator.
.SH CONFIG FILE
.PP
A config file can be used to \[lq]pre-specify\[rq] any of the above
command line arguments.
The config file consists of command line arguments (flags or flag-value
pairs), \f[I]one per line\f[R].
These arguments are read from the config file and prepended to the
arguments actually given on the command line.
Since later arguments override earlier arguments, any argument actually
given on the command line will override a conflicting argument given in
the config file.
.PP
Unless specified using the -c (\[en]config) argument, the default config
file will be $MEDLEYDIR/.medley_config, if it exists, and
$HOME/.medley_config, otherwise.
.PP
Specifying, \[lq]-c -\[rq] or \[lq]\[en]config -\[rq] on the command
line will suppress the use of config files for the current run of
Medley.
.PP
\f[I]Note:\f[R] care must be taken when using -g (\[en]geometry) and/or
-s (\[en]screensize) arguments in config files.
If only one of these is specified, then the other is conputed.
But if both are specified, then the specified dimensions are used as
given.
Unexpected results can arise if one is specified in the config file but
the other is specified on the command line.
In this case, the two specified dimensions will be used as given.
It will not be the case, as might be expected, that the dimension given
in the config file will be overridden by a dimension computed from the
dimension given on the command line.
.SH OTHER FILES
.TP
$HOME/il
Default Medley LOGINDIR
.TP
$HOME/il/vmem/lisp.virtualmem
Default virtual memory file
.TP
$HOME/il/INIT(.LCOM)
Default personal init file
.TP
$MEDLEYDIR/greetfiles/MEDLEYDIR-INIT(.LCOM)
Default Medley greetfile
.SH BUGS
.PP
See GitHub Issues: <https://github.com/Interlisp/medley/issues>
.SH COPYRIGHT
.PP
Copyright(c) 2023-2024 by Interlisp.org
