(DEFINE-FILE-INFO PACKAGE "INTERLISP" READTABLE "INTERLISP" BASE 10)

(FILECREATED " 2-Jan-2025 20:38:44" {DSK}<home>larry>il>medley>internal>loadups>LOADUP-APPS.;7 2646   

      :EDIT-BY "lmm"

      :CHANGES-TO (FNS Apps.LOADUP)

      :PREVIOUS-DATE " 2-Jan-2025 06:30:47" {DSK}<home>larry>il>medley>internal>loadups>LOADUP-APPS.;6
)


(PRETTYCOMPRINT LOADUP-APPSCOMS)

(RPAQQ LOADUP-APPSCOMS ((GLOBALVARS *ALL-BUTTONS* BackgroundMenuCommands BackgroundMenu)
                        (FNS Apps.LOADUP Apps.RemoveBackgroundMenuItem)))
(DECLARE%: DOEVAL@COMPILE DONTCOPY

(GLOBALVARS *ALL-BUTTONS* BackgroundMenuCommands BackgroundMenu)
)
(DEFINEQ

(Apps.LOADUP
  [LAMBDA NIL                                                (* ; "Edited  2-Jan-2025 20:38 by lmm")
                                                           (* ; "Edited  2-Jan-2025 06:30 by larry")
    (PUTASSOC 'MEDLEY (LIST (UNIX-GETENV 'LOADUP_COMMIT_ID))
           SYSOUTCOMMITS)

    (* ;; "= = = = = = = = = = = = = = = = = =")

    (DOFILESLOAD `((SYSLOAD)
                   (FROM ,(MEDLEYDIR "ROOMS"))
                   ROOMS))

    (* ;; "======================")

    (DOFILESLOAD `((SYSLOAD)
                   (FROM ,(CONCAT (UNIX-GETENV "NOTECARDSDIR")
                                 "/system"))
                   NOTECARDS))

    (* ;; " Remove the NoteCards Background Menu Item")

    (PUTASSOC 'NOTECARDS (LIST (UNIX-GETENV 'NOTECARDS_COMMIT_ID))
           SYSOUTCOMMITS)

    (* ;; "======================")

    (DOFILESLOAD `((SYSLOAD)
                   (FROM ,(MEDLEYDIR "CLOS"))
                   DEFSYS))
    (LOAD-CLOS)

    (* ;; " Remove the CLOS Background Menu Item")

    (Apps.RemoveBackgroundMenuItem 'BrowseClass)

    (* ;; "= = = = = = = = = = =  = = == = = = ")

    (DOFILESLOAD '((SYSLOAD)
                   BUTTONS))
    (PRINTOUT T "commits-- " SYSOUTCOMMITS T])

(Apps.RemoveBackgroundMenuItem
  [LAMBDA (ItemStringOrAtom)
    (DECLARE (GLOBALVARS Apps.SBG))                          (* ; "Edited 17-Jan-2023 20:33 by FGH")
                                                             (* ; "Edited 12-Nov-2022 14:07 by FGH")
    (LET (SAVEX)
         (SETQ BackgroundMenuCommands (REMOVE (SETQ SAVEX (SASSOC ItemStringOrAtom 
                                                                 BackgroundMenuCommands))
                                             BackgroundMenuCommands))
         (SETQ BackgroundMenu NIL)
         (SETQ Apps.SBG (APPEND (LIST SAVEX)
                               Apps.SBG])
)
(DECLARE%: DONTCOPY
  (FILEMAP (NIL (653 2623 (Apps.LOADUP 663 . 1951) (Apps.RemoveBackgroundMenuItem 1953 . 2621)))))
STOP
