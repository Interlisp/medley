(DEFINE-FILE-INFO PACKAGE "INTERLISP" READTABLE "INTERLISP" BASE 10)

(FILECREATED "17-Feb-2026 08:15:32" {DSK}<Users>larry>il>MEDLEY>internal>loadups>LOADUP-APPS.;2 3491   

      :EDIT-BY "lmm"

      :CHANGES-TO (FNS LOADUP-APPS)

      :PREVIOUS-DATE " 1-Feb-2026 13:45:36" 
{DSK}<Users>larry>il>MEDLEY>internal>loadups>LOADUP-APPS.;1)


(PRETTYCOMPRINT LOADUP-APPSCOMS)

(RPAQQ LOADUP-APPSCOMS ((GLOBALVARS *ALL-BUTTONS* BackgroundMenuCommands BackgroundMenu)
                        (FNS LOADUP-APPS Apps.RemoveBackgroundMenuItem)))
(DECLARE%: DOEVAL@COMPILE DONTCOPY

(GLOBALVARS *ALL-BUTTONS* BackgroundMenuCommands BackgroundMenu)
)
(DEFINEQ

(LOADUP-APPS
  [LAMBDA NIL                                                (* ; "Edited 17-Feb-2026 08:04 by lmm")
                                                             (* ; "Edited  1-Feb-2026 13:45 by rmk")
                                                           (* ; "Edited  9-Mar-2025 20:02 by frank")
                                                             (* ; "Edited  2-Jan-2025 20:38 by lmm")
                                                           (* ; "Edited  2-Jan-2025 06:30 by larry")

    (* ;; "= = = = = = = = = = = = = = = = = =")

    (* ;; " Load ROOMS")

    (* ;; "")

    (DOFILESLOAD `((SYSLOAD SOURCE)
                   (FROM ,(MEDLEYDIR "ROOMS"))
                   ROOMS))

    (* ;; "======================")

    (* ;; " Load Notecards and %"fix up%"")

    (* ;; "")

    (DOFILESLOAD `((SYSLOAD)
                   (FROM ,(CONCAT (UNIX-GETENV "NOTECARDSDIR")
                                 "/system"))
                   NOTECARDS))
    (Apps.RemoveBackgroundMenuItem 'NoteCards)               (* ; "")
    (PUTASSOC 'NOTECARDS (LIST (UNIX-GETENV 'NOTECARDS-COMMIT-ID))
           SYSOUTCOMMITS)

    (* ;; "======================")

    (* ;; " Load CLOS and %"fix up%"")

    (* ;; " Assumes that clos/DEFSYS.DFASL has already been loaded (so CLOS: package is defined)")

    (* ;; "")

    (LOADUP-CLOS)
    (CLOS::LOAD-CLOS)                                        (* ; "")
    (Apps.RemoveBackgroundMenuItem 'BrowseClass)

    (* ;; "= = = = = = = = = = =  = = == = = = ")

    (* ;; " Load lispusers/BUTTONS and %"fix up%"")

    (* ;; "")

    (DOFILESLOAD '((SYSLOAD)
                   BUTTONS))
    (Apps.RemoveBackgroundMenuItem "Button Control")
    (for B in *ALL-BUTTONS* do (DELETE-BUTTON B))

    (* ;; "= = = = = = = = = = =  = = == = = = ")

    (* ;; " Do misc")

    (* ;; "")

    (PUTASSOC 'MEDLEY (LIST (UNIX-GETENV 'LOADUP-COMMIT-ID))
           SYSOUTCOMMITS)
    (PRINTOUT T "commits-- " SYSOUTCOMMITS T])

(Apps.RemoveBackgroundMenuItem
  [LAMBDA (ItemStringOrAtom)
    (DECLARE (GLOBALVARS Apps.SBG))                          (* ; "Edited 17-Jan-2023 20:33 by FGH")
                                                             (* ; "Edited 12-Nov-2022 14:07 by FGH")
    (LET (SAVEX)
         (SETQ BackgroundMenuCommands (REMOVE (SETQ SAVEX (SASSOC ItemStringOrAtom 
                                                                 BackgroundMenuCommands))
                                             BackgroundMenuCommands))
         (SETQ BackgroundMenu NIL)
         (SETQ Apps.SBG (APPEND (LIST SAVEX)
                               Apps.SBG])
)
(DECLARE%: DONTCOPY
  (FILEMAP (NIL (655 3468 (LOADUP-APPS 665 . 2796) (Apps.RemoveBackgroundMenuItem 2798 . 3466)))))
STOP
