(DEFINE-FILE-INFO READTABLE "XCL" PACKAGE "XCL-USER")
(il:filecreated "16-Nov-87 16:20:15" il:{eris}<snow>test>testsend.\;3 1215   

      il:|changes| il:|to:|  (il:functions send-data)
                             (file-environments "TESTSEND" "TESTRS232")
                             (il:vars il:testsendcoms)

      il:|previous| il:|date:| "16-Nov-87 16:09:59" il:{eris}<snow>test>testsend.\;2)


; Copyright (c) 1987 by Xerox Corporation.  All rights reserved.

(il:prettycomprint il:testsendcoms)

(il:rpaqq il:testsendcoms ((file-environments "TESTSEND")
                               (il:functions send-data)))

(define-file-environment "TESTSEND" :package "XCL-USER" :readtable "XCL" :compiler :compile-file)


(defun send-data (n) 

(il:* il:|;;;| "send n characters across an RS232 stream.")

                         (with-open-stream (output-stream (il:openstream "{rs232}" 'il:output))
                                (time (dotimes (i n)
                                             (il:bout output-stream 99))
                                      :output *standard-output*)))

(il:putprops il:testsend il:copyright ("Xerox Corporation" 1987))
(il:declare\: il:dontcopy
  (il:filemap (nil)))
il:stop
