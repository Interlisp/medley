(DEFINE-FILE-INFO READTABLE "INTERLISP" PACKAGE "INTERLISP")
(FILECREATED " 7-Sep-88 17:33:28" {ERINYES}<LISPUSERS>MEDLEY>CHATSERVER-RS232.;1 2044   

      changes to%:  (FNS DO.RS232.CHAT.SERVER DO.TTY.CHAT.SERVER)

      previous date%: "29-Oct-87 15:36:45" {PHYLUM}<LISP>LYRIC>LISPUSERS>CHATSERVER-RS232.;1)


(* "
Copyright (c) 1987, 1988 by Xerox Corporation.  All rights reserved.
")

(PRETTYCOMPRINT CHATSERVER-RS232COMS)

(RPAQQ CHATSERVER-RS232COMS ((FNS DO.RS232.CHAT.SERVER TTYCHATSERVER DO.TTY.CHAT.SERVER 
                                      RS232CHATSERVER)
                                 (FILES DLRS232C CHATSERVER)))
(DEFINEQ

(DO.RS232.CHAT.SERVER
  [LAMBDA NIL                                         (* ; "Edited  7-Sep-88 17:32 by masinter")
    (PROG [(INS (OPENSTREAM '{RS232} 'INPUT))
           (OUTS (OPENSTREAM '{RS232} 'OUTPUT]
      LP  (READC INS)
          (CHATSERVEROPENFN INS OUTS)
          (GO LP])

(TTYCHATSERVER
(LAMBDA (BAUDRATE BITSPERCHAR PARITY STOPBITS FLOWCONTROL) (* lmm "20-Mar-86 17:34") (TTY.INIT BAUDRATE BITSPERCHAR PARITY STOPBITS FLOWCONTROL) (DEL.PROCESS (QUOTE DO.TTY.CHAT.SERVER)) (ADD.PROCESS (QUOTE (DO.TTY.CHAT.SERVER)) (QUOTE RESTARTABLE) T))
)

(DO.TTY.CHAT.SERVER
  [LAMBDA NIL                                         (* ; "Edited  7-Sep-88 17:33 by masinter")
    (PROG [(INS (OPENSTREAM '{TTY} 'INPUT))
           (OUTS (OPENSTREAM '{TTY} 'OUTPUT]
      LP  (READC INS)
          (CHATSERVEROPENFN INS OUTS)
          (GO LP])

(RS232CHATSERVER
  [LAMBDA (BAUDRATE BITSPERCHAR PARITY STOPBITS FLOWCONTROL)
                                                          (* ; "Edited 29-Oct-87 15:34 by masinter")

    (DEL.PROCESS 'RS232)
    (RS232C.SHUTDOWN)
    (RS232C.INIT BAUDRATE BITSPERCHAR PARITY STOPBITS FLOWCONTROL)
    (ADD.PROCESS '(DO.RS232.CHAT.SERVER) 'RESTARTABLE T 'NAME 'RS232])
)

(FILESLOAD DLRS232C CHATSERVER)
(PUTPROPS CHATSERVER-RS232 COPYRIGHT ("Xerox Corporation" 1987 1988))
(DECLARE%: DONTCOPY
  (FILEMAP (NIL (650 1918 (DO.RS232.CHAT.SERVER 660 . 962) (TTYCHATSERVER 964 . 1236) (
DO.TTY.CHAT.SERVER 1238 . 1534) (RS232CHATSERVER 1536 . 1916)))))
STOP
