(FILECREATED "28-May-86 12:00:22" {ERIS}<LISPUSERS>KOTO>IDLEDRAIN.;2 2598   

      changes to:  (FNS IDLE-DRAIN)
                   (VARS IDLEDRAINCOMS)

      previous date: "28-May-86 11:44:43" {ERIS}<LISPUSERS>KOTO>IDLEDRAIN.;1)


(* Copyright (c) 1986 by Xerox Corporation. All rights reserved.)

(PRETTYCOMPRINT IDLEDRAINCOMS)

(RPAQQ IDLEDRAINCOMS ([ADDVARS (IDLE.FUNCTIONS ("Drain" (QUOTE IDLE-DRAIN]
                      (FNS IDLE-DRAIN)))

(ADDTOVAR IDLE.FUNCTIONS ("Drain" (QUOTE IDLE-DRAIN)))
(DEFINEQ

(IDLE-DRAIN
  [LAMBDA (WINDOW)                                           (* hdj "28-May-86 11:52")
    (do (BITBLT (WINDOWPROP WINDOW (QUOTE IMAGECOVERED))
               NIL NIL WINDOW NIL NIL NIL NIL (QUOTE INVERT)
               (QUOTE REPLACE))
        (LET* ((WIDTH (WINDOWPROP WINDOW (QUOTE WIDTH)))
               (HEIGHT (WINDOWPROP WINDOW (QUOTE HEIGHT)))
               (HALF-WIDTH (IQUOTIENT WIDTH 2))
               (HALF-HEIGHT (IQUOTIENT HEIGHT 2)))
              (for EDGE from 0 to (MIN HALF-WIDTH HALF-HEIGHT)
                 do (BLOCK)
                    (BITBLT WINDOW EDGE 0 WINDOW (1+ EDGE)
                           0
                           (- HALF-WIDTH EDGE)
                           HEIGHT
                           (QUOTE INPUT)
                           (QUOTE REPLACE))
                    (BLTSHADE WHITESHADE WINDOW EDGE 0 1 HEIGHT (QUOTE REPLACE))
                    (BITBLT WINDOW (1+ HALF-WIDTH)
                           0 WINDOW HALF-WIDTH 0 (- HALF-WIDTH EDGE)
                           HEIGHT
                           (QUOTE INPUT)
                           (QUOTE REPLACE))
                    (BLTSHADE WHITESHADE WINDOW (- WIDTH EDGE)
                           0 1 HEIGHT (QUOTE REPLACE))
                    (BITBLT WINDOW 0 EDGE WINDOW 0 (1+ EDGE)
                           WIDTH
                           (- HALF-HEIGHT EDGE)
                           (QUOTE INPUT)
                           (QUOTE REPLACE))
                    (BLTSHADE WHITESHADE WINDOW 0 EDGE WIDTH 1 (QUOTE REPLACE))
                    (BITBLT WINDOW 0 (+ HALF-HEIGHT EDGE 1)
                           WINDOW 0 (+ HALF-HEIGHT EDGE)
                           WIDTH
                           (- HALF-HEIGHT EDGE)
                           (QUOTE INPUT)
                           (QUOTE REPLACE))
                    (BLTSHADE WHITESHADE WINDOW 0 (- HEIGHT EDGE)
                           WIDTH 1 (QUOTE REPLACE])
)
(PUTPROPS IDLEDRAIN COPYRIGHT ("Xerox Corporation" 1986))
(DECLARE: DONTCOPY
  (FILEMAP (NIL (520 2518 (IDLE-DRAIN 530 . 2516)))))
STOP
