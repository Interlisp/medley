(DEFINE-FILE-INFO PACKAGE "INTERLISP" READTABLE "INTERLISP" BASE 10)(FILECREATED "19-Jan-93 19:53:16" ("compiled on " {DSK}<usr>local>src>tape>MIGRATION>FILEPKGRECORDS.;1) "11-Jul-91 21:52:09" bcompl'd in "Lispcore 11-Jul-91 ..." dated "11-Jul-91 21:57:45")(PRETTYCOMPRINT FILEPKGRECORDSCOMS)(RPAQQ FILEPKGRECORDSCOMS ((COMS (* ; "standard records for accessing file package type/command parts.  Exported for PRETTY") (RECORDS * FILEPKGRECORDS))))(RPAQQ FILEPKGRECORDS (FILEPKGCOM FILEPKGTYPE FILE FILEDATEPAIR FILEPROP))(ACCESSFNS FILEPKGCOM ((ADD (GETPROP DATUM (QUOTE ADDTOPRETTYCOM)) (UNDOABLE (COND (NEWVALUE (/PUTPROP DATUM (QUOTE ADDTOPRETTYCOM) NEWVALUE)) (T (/REMPROP DATUM (QUOTE ADDTOPRETTYCOM)))))) (DELETE (GETPROP DATUM (QUOTE DELFROMPRETTYCOM)) (UNDOABLE (COND (NEWVALUE (/PUTPROP DATUM (QUOTE DELFROMPRETTYCOM) NEWVALUE)) (T (/REMPROP DATUM (QUOTE DELFROMPRETTYCOM)))))) (PRETTYTYPE (GETPROP DATUM (QUOTE PRETTYTYPE)) (UNDOABLE (COND (NEWVALUE (/PUTPROP DATUM (QUOTE PRETTYTYPE) NEWVALUE)) (T (/REMPROP DATUM (QUOTE PRETTYTYPE)))))) (CONTENTS (GETPROP DATUM (QUOTE FILEPKGCONTENTS)) (UNDOABLE (COND (NEWVALUE (/PUTPROP DATUM (QUOTE FILEPKGCONTENTS) NEWVALUE)) (T (/REMPROP DATUM (QUOTE FILEPKGCONTENTS)))))) (MACRO (CDR (FASSOC DATUM (GETTOPVAL (QUOTE PRETTYDEFMACROS)))) (STANDARD (COND (NEWVALUE (PUTASSOC DATUM NEWVALUE (OR (LISTP (GETTOPVAL (QUOTE PRETTYDEFMACROS))) (SETTOPVAL (QUOTE PRETTYDEFMACROS) (LIST (LIST DATUM)))))) (T (SETTOPVAL (QUOTE PRETTYDEFMACROS) (REMOVE (FASSOC DATUM (GETTOPVAL (QUOTE PRETTYDEFMACROS))) (GETTOPVAL (QUOTE PRETTYDEFMACROS)))))) UNDOABLE (COND (NEWVALUE (/PUTASSOC DATUM NEWVALUE (OR (LISTP (GETTOPVAL (QUOTE PRETTYDEFMACROS))) (/SETTOPVAL (QUOTE PRETTYDEFMACROS) (LIST (LIST DATUM)))))) (T (/SETTOPVAL (QUOTE PRETTYDEFMACROS) (REMOVE (FASSOC DATUM (GETTOPVAL (QUOTE PRETTYDEFMACROS))) (GETTOPVAL (QUOTE PRETTYDEFMACROS))))))))) (* Not an atom record cause want REMPROP on NILs.) (* NOTE%: PRETTCOM on PRETTY has open-coded access to the MACRO property.) (INIT (FILEPKGCOMPROPS ADDTOPRETTYCOM DELFROMPRETTYCOM PRETTYTYPE FILEPKGCONTENTS)))(ATOMRECORD FILEPKGTYPE (NEWCOM WHENFILED WHENUNFILED GETDEF NULLDEF DELDEF PUTDEF WHENCHANGED HASDEF EDITDEF FILEGETDEF CANFILEDEF) (ACCESSFNS FILEPKGTYPE ((CHANGEDLST (CAR (SEARCHPRETTYTYPELST DATUM)) (CAR (SEARCHPRETTYTYPELST DATUM NEWVALUE))) (CHANGED (GETTOPVAL (CAR (SEARCHPRETTYTYPELST DATUM))) (STANDARD (SETTOPVAL (CAR (SEARCHPRETTYTYPELST DATUM NEWVALUE)) NEWVALUE) UNDOABLE (/SETTOPVAL (CAR (SEARCHPRETTYTYPELST DATUM NEWVALUE)) NEWVALUE))) (DESCRIPTION (CAR (CDDR (SEARCHPRETTYTYPELST DATUM))) (CAR (RPLACA (CDDR (SEARCHPRETTYTYPELST DATUM NEWVALUE)) NEWVALUE))) (ALLFIELDS NIL (/SETTOPVAL (QUOTE PRETTYTYPELST) (REMOVE (SEARCHPRETTYTYPELST DATUM) (GETTOPVAL (QUOTE PRETTYTYPELST)))))) (* NOTE%: PRETTYCOM on PRETTY has open-coded access to GETDEF property) (INIT (PROGN (SETQ SYSPROPS (UNION FILEPKGTYPEPROPS SYSPROPS)) (MAPC FILEPKGTYPEPROPS (FUNCTION (LAMBDA (X) (PUT X (QUOTE PROPTYPE) (QUOTE FILEPKGCOMS)))))) (ADDTOVAR PRETTYTYPELST))))(ATOMRECORD FILE (FILECHANGES FILEDATES FILEMAP) (ACCESSFNS FILE ((FILEPROP (GETPROP DATUM (QUOTE FILE)) (STANDARD (PUTPROP DATUM (QUOTE FILE) NEWVALUE) UNDOABLE (/PUTPROP DATUM (QUOTE FILE) NEWVALUE))))))(RECORD FILEDATEPAIR (FILEDATE . DATEFILENAME))(RECORD FILEPROP ((COMSNAME . LOADTYPE) . TOBEDUMPED))NIL