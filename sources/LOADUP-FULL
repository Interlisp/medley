(DEFINE-FILE-INFO READTABLE "INTERLISP" PACKAGE "INTERLISP")(FILECREATED " 6-Feb-2021 15:41:34" {DSK}<home>larry>ilisp>medley>sources>LOADUP-FULL.;3 7916         changes to%:  (VARS LOADUP-FULLCOMS)      previous date%: " 6-Feb-2021 13:46:58" {DSK}<home>larry>ilisp>medley>sources>LOADUP-FULL.;2)(PRETTYCOMPRINT LOADUP-FULLCOMS)(RPAQQ LOADUP-FULLCOMS       ((COMMANDS "cd" "pwd" "ls")        (FNS LOADFULLFONTS MAKEFULLSYSOUT FIXMETA)        (P (FIXMETA))        (VARS (WRITEFULLSYSOUTFLAG T))        (GLOBALVARS MISSINGDISPLAYFONTCOERCIONS MISSINGCHARSETDISPLAYFONTCOERCIONS)        (DECLARE%: DONTEVAL@LOAD DONTEVAL@COMPILE DOCOPY (P (MAKEFULLSYSOUT)))        (PROP FILETYPE)))(DEFCOMMAND "cd" (DIR) (/CNDIR DIR))(DEFCOMMAND "pwd" NIL (DIRECTORYNAME T))(DEFCOMMAND "ls" (FIRST . REST) (DODIR (CONS FIRST REST)))(DEFINEQ(LOADFULLFONTS  [LAMBDA (ROOTDIRECTORY)                                    (* ;                                                            "Edited 11-Aug-2020 17:53 by rmk:")    (* ;; " Don't do Interpress. Do character set 0 and the symbol character sets 41Q, 42Q, 356Q, 357Q and extended and accented Latin 43Q and 361Q")    (PRINTOUT T "Loading FULL fonts..." T)    (SETQ DISPLAYFONTDIRECTORIES (LIST (PACK* ROOTDIRECTORY "/fonts/displayfonts")                                       (PACK* ROOTDIRECTORY "/fonts/altofonts")))                                                             (* (SETQ INTERPRESSFONTDIRECTORIES                                                           (CONS (PACK* ROOTDIRECTORY                                                            "/fonts/ipfonts"))))    (SETQ DISPLAYFONTEXTENSIONS '(DISPLAYFONT STRIKE))    (SETQ POSTSCRIPTFONTDIRECTORIES (CONS (PACK* ROOTDIRECTORY "/fonts/postscriptfonts")))    (SETQ *POSTSCRIPT-FILE-TYPE* 'TEXT)    (RESETVARS ((MISSINGDISPLAYFONTCOERCIONS NIL)                (MISSINGCHARSETDISPLAYFONTCOERCIONS NIL))    (* ;                   "Don't let the font loader substitute just because a server went catatonic on us")               (for FAMILY in '(CLASSIC MODERN TERMINAL)                  do (PRINTOUT T "  Loading " FAMILY " ")                        [for SIZE in '(8 10 12)                           do (PRINTOUT T SIZE " ")                                 (for FACE in '(MRR BRR MIR)                                    do                                           (* ;; "No need for Interpress")                                                             (* (NLSETQ (FONTCREATE FAMILY SIZE                                                            FACE NIL (QUOTE INTERPRESS) NIL 0)))                                          (for CSET                                             in '(0 33 34 35 238 239 241)                                             do (NLSETQ (FONTCREATE FAMILY SIZE FACE NIL                                                                   'DISPLAY NIL CSET]                        (PRINTOUT T T))               (PRINTOUT T "  Loading postscript fonts" T)               (for F in (FILDIR (CONCAT (CAR POSTSCRIPTFONTDIRECTORIES)                                                ">c0>*.*")) do (PSCFONT.READFONT F))               (PRINTOUT T "FULL fonts loaded" T])(MAKEFULLSYSOUT  [LAMBDA NIL                                          (* ; "Edited  5-Dec-2020 20:07 by larry")                                                             (* ;                                                            "Edited 14-May-2018 15:01 by kaplan")                                                             (* ;                                                            "Edited 28-Sep-2020 12:35 by rmk:")                                                             (* ; "Edited 17-Apr-2018 08:41 by ")                                                             (* ;                                                            "Edited 21-Apr-2018 07:27 by rmk:")                                                             (* ; "Edited 23-Feb-94 15:04 by bvm")    (CLRPROMPT)    (CNDIR (UNIX-GETENV "LOADUPDIR"))    (LET ((ROOTDIRECTORY (MEDLEYDIR)))         (SETQ MAKESYSFILENAME (CONCAT (MEDLEYDIR "loadups")                                      "xfull35.sysout"))         (DRIBBLE (PACKFILENAME 'EXTENSION 'DRIBBLE 'BODY MAKESYSFILENAME))         (* ;; "BKSYSBUF stops page holding ")         (PRINTOUT T T "Full loadup started at " (DATE)                " while connected to "                (DIRECTORYNAME T)                T T)         (BKSYSBUF " ")         (SETQ DEFAULTFILETYPE 'BINARY)                      (* ;                                       "These prevent bits from being lost due to lack of knowledge")         (DREMOVE (ASSOC NIL DEFAULTFILETYPELIST)                DEFAULTFILETYPELIST)                         (* (SETQ *UPPER-CASE-FILE-NAMES* NIL))         (SETQ MAKESYSNAME :MEDLEY3.5)         (push DEFAULTFILETYPELIST '(TXT . TEXT)                '(TEXT . TEXT)                '(TEX . TEXT)                '(HTML . TEXT)                '(HTM . TEXT))         (MEDLEY-INIT-VARS)         (SETQ LOADUPDIRECTORIES DIRECTORIES)         (LOADUP '(POSTSCRIPTSTREAM))                        (* ; " to get PSCFONT.READFONT")         (LOADFULLFONTS (MEDLEYDIR))         (LISTPUT IDLE.PROFILE 'TIMEOUT 0)         (SETQQ *DEFAULT-CLEANUP-COMPILER* BCOMPL)         (LOADUP '(CHAT TEDIT HRULE TEDITCHAT READNUMBER EDITBITMAP FILEBROWSER THINFILES GRAPHER SPY                        WHERE-IS COPYFILES MSANALYZE MSPARSE MASTERSCOPE UNIXPRINT UNICODE ISO8859IO                        HELPSYS DINFO CLIPBOARD MACINTERFACE))         (FILESLOAD (SYSLOAD)                PRETTYFILEINDEX WHO-LINE)         (SETQ *WHO-LINE-ANCHOR* '(:CENTER :TOP))         (* ;; "Turn off who-line until after the user has greeted")         (CL:WHEN (WINDOWP *WHO-LINE*)                (CLOSEW *WHO-LINE*))         [SETQ POSTGREETFORMS (APPEND POSTGREETFORMS '((INSTALL-WHO-LINE-OPTIONS]         (FILESLOAD (SYSLOAD)                UNIXCOMM UNIXCHAT UNIXTELNET)         (FILESLOAD (SYSLOAD)                SETDEFAULTPRINTER)         (FILESLOAD (SYSLOAD)                LOADPATCHES)         (\DAYTIME0 \LASTUSERACTION)         (LISTPUT IDLE.PROFILE 'TIMEOUT 20)         (for TYPE in FILEPKTYPES do (FILEPKGCHANGES TYPE NIL))         (SETTOPVAL 'INITIALS NIL)         (PROMPTPRINT "About to end loadup")         (PRINTOUT T "About to end loadup" T)         (* ;; "From SYNCLISPFILES")         (ENDLOADUP)         (COND            ((WINDOWP LOGOW)             (CLOSEW LOGOW)))         (DREMOVE (ASSOC 'LOGOW AFTERMAKESYSFORMS)                AFTERMAKESYSFORMS)         (push AFTERMAKESYSFORMS '(CLRPROMPT)                '(MEDLEY-INIT-VARS))         (* ;; "Set up for making the sysout, if we made it this far.")         (CL:WHEN WRITEFULLSYSOUTFLAG             (PRINTOUT T "Creating FULL sysout on " MAKESYSFILENAME T)             (BKSYSBUF (CONCAT "(IL:MAKESYS %"" MAKESYSFILENAME "%" %"Medley " (MEDLEYVERSION)                              " Full Sysout%")")))         (DRIBBLE])(FIXMETA  [LAMBDA NIL                                                (* ;                                                            "Edited 25-Jun-2017 17:12 by rmk:")    (KEYACTION 'BLANK-TOP '(METADOWN . METAUP)           \CURRENTKEYACTION)    (KEYACTION 'BLANK-TOP '(METADOWN . METAUP]))(FIXMETA)(RPAQQ WRITEFULLSYSOUTFLAG T)(DECLARE%: DOEVAL@COMPILE DONTCOPY(GLOBALVARS MISSINGDISPLAYFONTCOERCIONS MISSINGCHARSETDISPLAYFONTCOERCIONS))(DECLARE%: DONTEVAL@LOAD DONTEVAL@COMPILE DOCOPY (MAKEFULLSYSOUT))(DECLARE%: DONTCOPY  (FILEMAP (NIL (853 7655 (LOADFULLFONTS 863 . 3367) (MAKEFULLSYSOUT 3369 . 7344) (FIXMETA 7346 . 7653)))))STOP