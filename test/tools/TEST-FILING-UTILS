(FILECREATED "11-Jul-85 11:06:01" {DSK}<LISPFILES>TESTER>TEST-FILING-UTILS.;1 1625   

      changes to:  (VARS TEST-FILING-UTILSCOMS))


(* Copyright (c) 1985 by Xerox Corporation. All rights reserved.)

(PRETTYCOMPRINT TEST-FILING-UTILSCOMS)

(RPAQQ TEST-FILING-UTILSCOMS ((FNS TEST.NSFILING.READ-AND-COMPARE TEST.NSFILING.WRITE-RANDOM-FILE)))
(DEFINEQ

(TEST.NSFILING.READ-AND-COMPARE
  [LAMBDA (RES ARGS)                                         (* sm "21-Jun-85 09:30")
    (PROG (FILENAME DATA NEXT-ITEM NEXT-ITEM ERROR-FOUND)
          (SETQ FILENAME RES)
          (SETQ DATA (CADR ARGS))
          (OPENFILE FILENAME (QUOTE INPUT)
		    (QUOTE OLD))
          (while (AND (NOT ERROR-FOUND)
		      (EOFP FILENAME))
	     do (SETQ NEXT-ITEM (READ FILENAME))
		(SETQ ERROR-FOUND (NOT (EQUAL (CAR DATA)
					      NEXT-ITEM)))
		(SETQ DATA (CDR DATA)))
          (CLOSEF FILENAME)
          (if ERROR-FOUND
	      then (RETURN (QUOTE FAILURE))
	    else (RETURN (QUOTE SUCCESS])

(TEST.NSFILING.WRITE-RANDOM-FILE
  [LAMBDA (FILENAME DATA)                                    (* sm "21-Jun-85 09:26")
    (PROG (FULLNAME)
          (SETQ FULLNAME (OPENFILE FILENAME (QUOTE OUTPUT)
				   (QUOTE NEW)))
          (for ITEM in DATA
	     do (PRIN2 ITEM FULLNAME)
		(PRIN1 " " FULLNAME))
          (ENDFILE FULLNAME)
          (RETURN FULLNAME])
)
(PUTPROPS TEST-FILING-UTILS COPYRIGHT ("Xerox Corporation" 1985))
(DECLARE: DONTCOPY
  (FILEMAP (NIL (356 1537 (TEST.NSFILING.READ-AND-COMPARE 366 . 1113) (TEST.NSFILING.WRITE-RANDOM-FILE 
1115 . 1535)))))
STOP
